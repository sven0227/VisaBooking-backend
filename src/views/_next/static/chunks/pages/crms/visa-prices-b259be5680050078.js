(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1683],{21317:function(e,r,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/crms/visa-prices",function(){return s(71326)}])},71326:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return F}});var i=s(85893),n=s(67294),a=s(80562),l=s(73812),t=s(31538),o=s(29630),c=s(79072),d=s(49837),x=s(59742),u=s(61953),h=s(75084),m=s(91359),p=s(18661),j=s(1890),Z=s(77745),y=s(95398),v=s(55343),g=s(67836),f=s(32631),_=s(58316),C=s(53442),b=s(22841),S=s(75158),W=s(45670),T=s(8769),P=s(55050),k=s(94314),w=s(5464),z=s(21609),I=s(98966),V=s(74231),B=s(47533),Q=s(87536),q=s(86501);let N=e=>{let{id:r,editPrice:s,deletePrice:o}=e,[c,d]=(0,n.useState)(null),x=Boolean(c),u=e=>{d(e.currentTarget)},h=()=>{d(null)},m=()=>{s(r),h()},p=()=>{o(r),h()};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.Z,{size:"small",onClick:u,children:(0,i.jsx)(z.Z,{icon:"mdi:dots-vertical"})}),(0,i.jsxs)(l.Z,{keepMounted:!0,anchorEl:c,open:x,onClose:h,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{style:{minWidth:"8rem"}},children:[(0,i.jsxs)(t.Z,{onClick:m,sx:{"& svg":{mr:2}},children:[(0,i.jsx)(z.Z,{icon:"mdi:pencil-outline",fontSize:20}),"Edit"]}),(0,i.jsxs)(t.Z,{onClick:p,sx:{"& svg":{mr:2}},children:[(0,i.jsx)(z.Z,{icon:"mdi:delete-outline",fontSize:20}),"Delete"]})]})]})},D=e=>{let{visaTypes:r}=e,[s,l]=(0,n.useState)(!0),[c,d]=(0,n.useState)(""),[x,m]=(0,n.useState)(10),[p,b]=(0,n.useState)([]),[S,W]=(0,n.useState)(!1),[T,P]=(0,n.useState)(!1),[k,D]=(0,n.useState)(0),E={visaType:"",price:0},R=V.Ry().shape({visaType:V.Z_().required("Visa type is required field."),price:V.Rx("Price must be numeric").required("Price is required field.")}),{reset:O,control:M,handleSubmit:F,formState:{errors:X}}=(0,Q.cI)({defaultValues:E,mode:"onChange",resolver:(0,B.X)(R)}),{reset:A,control:H,handleSubmit:G,formState:{errors:U}}=(0,Q.cI)({defaultValues:E,mode:"onChange",resolver:(0,B.X)(R)});(0,n.useEffect)(()=>{let e=async()=>{let{data:e}=await w.Z.get("crms/visa-prices",{params:{search:c}});b(e)};e()},[s,c,x]);let L=()=>{O({visaType:r[0]._id,price:0}),W(!0)},J=async e=>{let{data:r}=await w.Z.post("crms/visa-prices",e);r.status?(O(E),W(!1),l(!s),q.ZP.success(r.msg)):q.ZP.error(r.msg)},K=async e=>{D(e);let{data:r}=await w.Z.get("crms/visa-prices/".concat(e));A({visaType:r.visaType,price:r.price}),P(!0)},Y=async e=>{let{data:r}=await w.Z.put("crms/visa-prices/".concat(k),e);r.status?(A(E),P(!1),l(!s),q.ZP.success(r.msg)):q.ZP.error(r.msg)},$=async e=>{let{data:r}=await w.Z.delete("crms/visa-prices/".concat(e));r.status?(l(!s),q.ZP.success(r.msg)):q.ZP.error(r.msg)};return(0,i.jsxs)(u.Z,{children:[(0,i.jsx)(u.Z,{sx:{pl:0,pr:0,pt:0,pb:0,display:"flex",flex:1,flexWrap:"wrap",alignItems:"center",justifyContent:"flex-end"},children:(0,i.jsxs)(u.Z,{sx:{display:"flex",flexWrap:"wrap",alignItems:"center"},children:[(0,i.jsx)(g.Z,{size:"small",value:c,sx:{mr:6,mb:2},placeholder:"Search visa...",onChange:e=>d(e.target.value)}),(0,i.jsxs)(h.Z,{sx:{mb:2},onClick:L,variant:"contained",children:[(0,i.jsx)(z.Z,{icon:"mdi:plus"})," Add Price"]})]})}),(0,i.jsx)(I._,{autoHeight:!0,getRowId:e=>e._id,rows:p,columns:[{flex:5,minWidth:230,field:"visaType",headerName:"Visa Price",renderCell(e){let{row:r}=e;return(0,i.jsxs)(o.Z,{noWrap:!0,children:[r.visa[0].name," - ",r.visa[0].issue_duration," Working Days - ",r.visa[0].stay_duration," Days"]})}},{flex:1,minWidth:80,field:"price",headerName:"Price",renderCell(e){let{row:r}=e;return(0,i.jsxs)(o.Z,{noWrap:!0,children:["\xa3",r.price]})}},{flex:.8,width:80,sortable:!1,field:"actions",headerName:"Actions",renderCell(e){let{row:r}=e;return(0,i.jsx)(N,{id:r._id,editPrice:K,deletePrice:$})}}],pageSize:x,sx:{"& .MuiDataGrid-columnHeaders":{borderRadius:0}},onPageSizeChange:e=>m(e)}),(0,i.jsxs)(j.Z,{fullWidth:!0,maxWidth:"sm",onClose:()=>W(!1),open:S,children:[(0,i.jsxs)(Z.Z,{children:["New Price",(0,i.jsx)(a.Z,{onClick:()=>W(!1),sx:{position:"absolute",right:18,top:18,color:"#aaaaaa"},children:(0,i.jsx)(z.Z,{icon:"mdi:close"})})]}),(0,i.jsx)(y.Z,{sx:{p:6},children:(0,i.jsxs)("form",{onSubmit:F(J),style:{paddingTop:8},children:[(0,i.jsxs)(v.Z,{fullWidth:!0,sx:{mb:6},children:[(0,i.jsx)(_.Z,{id:"visa-type",error:Boolean(X.visaType),htmlFor:"visa-type",children:"Visa Type"}),(0,i.jsx)(Q.Qr,{id:"visa-type",name:"visaType",control:M,rules:{required:!0},render(e){let{field:{value:s,onChange:n}}=e;return(0,i.jsx)(C.Z,{value:s,label:"Visa Type",onChange:n,error:Boolean(X.visaType),children:r.map((e,r)=>(0,i.jsxs)(t.Z,{value:e._id,children:[e.name," - ",e.issue_duration," Working Days - ",e.stay_duration," Days"]},r))})}}),X.visaType&&(0,i.jsx)(f.Z,{sx:{color:"error.main"},children:X.visaType.message})]}),(0,i.jsxs)(v.Z,{fullWidth:!0,sx:{mb:6},children:[(0,i.jsx)(Q.Qr,{name:"price",control:M,rules:{required:!0},render(e){let{field:{value:r,onChange:s}}=e;return(0,i.jsx)(g.Z,{value:r,label:"Visa Price",onChange:s,placeholder:"100",error:Boolean(X.price)})}}),X.price&&(0,i.jsx)(f.Z,{sx:{color:"error.main"},children:X.price.message})]}),(0,i.jsxs)(u.Z,{sx:{display:"flex",justifyContent:"flex-end"},children:[(0,i.jsx)(h.Z,{type:"submit",variant:"contained",color:"primary",size:"large",startIcon:(0,i.jsx)(z.Z,{icon:"mdi:content-save"}),sx:{mr:4},children:"Save"}),(0,i.jsx)(h.Z,{variant:"contained",color:"error",size:"large",startIcon:(0,i.jsx)(z.Z,{icon:"mdi:delete"}),onClick:()=>W(!1),children:"Cancel"})]})]})})]}),(0,i.jsxs)(j.Z,{fullWidth:!0,maxWidth:"sm",onClose:()=>P(!1),open:T,children:[(0,i.jsxs)(Z.Z,{children:["Edit Price",(0,i.jsx)(a.Z,{onClick:()=>P(!1),sx:{position:"absolute",right:18,top:18,color:"#aaaaaa"},children:(0,i.jsx)(z.Z,{icon:"mdi:close"})})]}),(0,i.jsx)(y.Z,{sx:{p:6},children:(0,i.jsxs)("form",{onSubmit:G(Y),style:{paddingTop:8},children:[(0,i.jsxs)(v.Z,{fullWidth:!0,sx:{mb:6},children:[(0,i.jsx)(_.Z,{id:"visa-type",error:Boolean(U.visaType),htmlFor:"visa-type",children:"Visa Type"}),(0,i.jsx)(Q.Qr,{id:"visa-type",name:"visaType",control:H,rules:{required:!0},render(e){let{field:{value:s,onChange:n}}=e;return(0,i.jsx)(C.Z,{readOnly:!0,value:s,label:"Visa Type",onChange:n,error:Boolean(U.visaType),children:r.map((e,r)=>(0,i.jsx)(t.Z,{value:e._id,children:e.name},r))})}}),U.visaType&&(0,i.jsx)(f.Z,{sx:{color:"error.main"},children:U.visaType.message})]}),(0,i.jsxs)(v.Z,{fullWidth:!0,sx:{mb:6},children:[(0,i.jsx)(Q.Qr,{name:"price",control:H,rules:{required:!0},render(e){let{field:{value:r,onChange:s}}=e;return(0,i.jsx)(g.Z,{value:r,label:"Visa Price",onChange:s,placeholder:"100",error:Boolean(U.price)})}}),U.price&&(0,i.jsx)(f.Z,{sx:{color:"error.main"},children:U.price.message})]}),(0,i.jsxs)(u.Z,{sx:{display:"flex",justifyContent:"flex-end"},children:[(0,i.jsx)(h.Z,{type:"submit",variant:"contained",color:"primary",size:"large",startIcon:(0,i.jsx)(z.Z,{icon:"mdi:content-save"}),sx:{mr:4},children:"Update"}),(0,i.jsx)(h.Z,{variant:"contained",color:"error",size:"large",startIcon:(0,i.jsx)(z.Z,{icon:"mdi:delete"}),onClick:()=>P(!1),children:"Cancel"})]})]})})]})]})},E=e=>{let{id:r,editPrice:s,deletePrice:o}=e,[c,d]=(0,n.useState)(null),x=Boolean(c),u=e=>{d(e.currentTarget)},h=()=>{d(null)},m=()=>{s(r),h()},p=()=>{o(r),h()};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.Z,{size:"small",onClick:u,children:(0,i.jsx)(z.Z,{icon:"mdi:dots-vertical"})}),(0,i.jsxs)(l.Z,{keepMounted:!0,anchorEl:c,open:x,onClose:h,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{style:{minWidth:"8rem"}},children:[(0,i.jsxs)(t.Z,{onClick:m,sx:{"& svg":{mr:2}},children:[(0,i.jsx)(z.Z,{icon:"mdi:pencil-outline",fontSize:20}),"Edit"]}),(0,i.jsxs)(t.Z,{onClick:p,sx:{"& svg":{mr:2}},children:[(0,i.jsx)(z.Z,{icon:"mdi:delete-outline",fontSize:20}),"Delete"]})]})]})},R=e=>{let{visaTypes:r,category:s}=e,[l,c]=(0,n.useState)(!0),[d,x]=(0,n.useState)(""),[m,p]=(0,n.useState)(10),[b,S]=(0,n.useState)([]),[W,T]=(0,n.useState)(!1),[P,k]=(0,n.useState)(!1),[N,D]=(0,n.useState)(0),R={visaType:"",price:0},O=V.Ry().shape({visaType:V.Z_().required("Visa type is required field."),price:V.Rx("Price must be numeric").required("Price is required field.")}),{reset:M,control:F,handleSubmit:X,formState:{errors:A}}=(0,Q.cI)({defaultValues:R,mode:"onChange",resolver:(0,B.X)(O)}),{reset:H,control:G,handleSubmit:U,formState:{errors:L}}=(0,Q.cI)({defaultValues:R,mode:"onChange",resolver:(0,B.X)(O)});(0,n.useEffect)(()=>{let e=async()=>{let{data:e}=await w.Z.get("crms/agent-visa-prices",{params:{search:d,categoryId:s._id}});S(e)};e()},[l,d,m]);let J=()=>{M({visaType:r[0]._id,price:0}),T(!0)},K=async e=>{e.category=s._id;let{data:r}=await w.Z.post("crms/agent-visa-prices",e);r.status?(M(R),T(!1),c(!l),q.ZP.success(r.msg)):q.ZP.error(r.msg)},Y=async e=>{D(e);let{data:r}=await w.Z.get("crms/agent-visa-prices/".concat(e));H({visaType:r.visaType,price:r.price}),k(!0)},$=async e=>{let{data:r}=await w.Z.put("crms/agent-visa-prices/".concat(N),e);r.status?(H(R),k(!1),c(!l),q.ZP.success(r.msg)):q.ZP.error(r.msg)},ee=async e=>{let{data:r}=await w.Z.delete("crms/agent-visa-prices/".concat(e));r.status?(c(!l),q.ZP.success(r.msg)):q.ZP.error(r.msg)};return(0,i.jsxs)(u.Z,{children:[(0,i.jsx)(u.Z,{sx:{pl:0,pr:0,pt:0,pb:0,display:"flex",flex:1,flexWrap:"wrap",alignItems:"center",justifyContent:"flex-end"},children:(0,i.jsxs)(u.Z,{sx:{display:"flex",flexWrap:"wrap",alignItems:"center"},children:[(0,i.jsx)(g.Z,{size:"small",value:d,sx:{mr:6,mb:2},placeholder:"Search visa...",onChange:e=>x(e.target.value)}),(0,i.jsxs)(h.Z,{sx:{mb:2},onClick:J,variant:"contained",children:[(0,i.jsx)(z.Z,{icon:"mdi:plus"})," Add Price"]})]})}),(0,i.jsx)(I._,{autoHeight:!0,getRowId:e=>e._id,rows:b,columns:[{flex:5,minWidth:230,field:"visaType",headerName:"Visa Price",renderCell(e){let{row:r}=e;return(0,i.jsxs)(o.Z,{noWrap:!0,children:[r.visa[0].name," - ",r.visa[0].issue_duration," Working Days - ",r.visa[0].stay_duration," Days"]})}},{flex:1,minWidth:60,field:"price",headerName:"Price",renderCell(e){let{row:r}=e;return(0,i.jsxs)(o.Z,{noWrap:!0,children:["\xa3",r.price]})}},{flex:.8,width:60,sortable:!1,field:"actions",headerName:"Actions",renderCell(e){let{row:r}=e;return(0,i.jsx)(E,{id:r._id,editPrice:Y,deletePrice:ee})}}],pageSize:m,sx:{"& .MuiDataGrid-columnHeaders":{borderRadius:0}},onPageSizeChange:e=>p(e)}),(0,i.jsxs)(j.Z,{fullWidth:!0,maxWidth:"sm",onClose:()=>T(!1),open:W,children:[(0,i.jsxs)(Z.Z,{children:["New Price",(0,i.jsx)(a.Z,{onClick:()=>T(!1),sx:{position:"absolute",right:18,top:18,color:"#aaaaaa"},children:(0,i.jsx)(z.Z,{icon:"mdi:close"})})]}),(0,i.jsx)(y.Z,{sx:{p:6},children:(0,i.jsxs)("form",{onSubmit:X(K),style:{paddingTop:8},children:[(0,i.jsxs)(v.Z,{fullWidth:!0,sx:{mb:6},children:[(0,i.jsx)(_.Z,{id:"visa-type",error:Boolean(A.visaType),htmlFor:"visa-type",children:"Visa Type"}),(0,i.jsx)(Q.Qr,{id:"visa-type",name:"visaType",control:F,rules:{required:!0},render(e){let{field:{value:s,onChange:n}}=e;return(0,i.jsx)(C.Z,{value:s,label:"Visa Type",onChange:n,error:Boolean(A.visaType),children:r.map((e,r)=>(0,i.jsxs)(t.Z,{value:e._id,children:[e.name," - ",e.issue_duration," Working Days - ",e.stay_duration," Days"]},r))})}}),A.visaType&&(0,i.jsx)(f.Z,{sx:{color:"error.main"},children:A.visaType.message})]}),(0,i.jsxs)(v.Z,{fullWidth:!0,sx:{mb:6},children:[(0,i.jsx)(Q.Qr,{name:"price",control:F,rules:{required:!0},render(e){let{field:{value:r,onChange:s}}=e;return(0,i.jsx)(g.Z,{value:r,label:"Visa Price",onChange:s,placeholder:"100",error:Boolean(A.price)})}}),A.price&&(0,i.jsx)(f.Z,{sx:{color:"error.main"},children:A.price.message})]}),(0,i.jsxs)(u.Z,{sx:{display:"flex",justifyContent:"flex-end"},children:[(0,i.jsx)(h.Z,{type:"submit",variant:"contained",color:"primary",size:"large",startIcon:(0,i.jsx)(z.Z,{icon:"mdi:content-save"}),sx:{mr:4},children:"Save"}),(0,i.jsx)(h.Z,{variant:"contained",color:"error",size:"large",startIcon:(0,i.jsx)(z.Z,{icon:"mdi:delete"}),onClick:()=>T(!1),children:"Cancel"})]})]})})]}),(0,i.jsxs)(j.Z,{fullWidth:!0,maxWidth:"sm",onClose:()=>k(!1),open:P,children:[(0,i.jsxs)(Z.Z,{children:["Edit Price",(0,i.jsx)(a.Z,{onClick:()=>k(!1),sx:{position:"absolute",right:18,top:18,color:"#aaaaaa"},children:(0,i.jsx)(z.Z,{icon:"mdi:close"})})]}),(0,i.jsx)(y.Z,{sx:{p:6},children:(0,i.jsxs)("form",{onSubmit:U($),style:{paddingTop:8},children:[(0,i.jsxs)(v.Z,{fullWidth:!0,sx:{mb:6},children:[(0,i.jsx)(_.Z,{id:"visa-type",error:Boolean(L.visaType),htmlFor:"visa-type",children:"Visa Type"}),(0,i.jsx)(Q.Qr,{id:"visa-type",name:"visaType",control:G,rules:{required:!0},render(e){let{field:{value:s,onChange:n}}=e;return(0,i.jsx)(C.Z,{readOnly:!0,value:s,label:"Visa Type",onChange:n,error:Boolean(L.visaType),children:r.map((e,r)=>(0,i.jsx)(t.Z,{value:e._id,children:e.name},r))})}}),L.visaType&&(0,i.jsx)(f.Z,{sx:{color:"error.main"},children:L.visaType.message})]}),(0,i.jsxs)(v.Z,{fullWidth:!0,sx:{mb:6},children:[(0,i.jsx)(Q.Qr,{name:"price",control:G,rules:{required:!0},render(e){let{field:{value:r,onChange:s}}=e;return(0,i.jsx)(g.Z,{value:r,label:"Visa Price",onChange:s,placeholder:"100",error:Boolean(L.price)})}}),L.price&&(0,i.jsx)(f.Z,{sx:{color:"error.main"},children:L.price.message})]}),(0,i.jsxs)(u.Z,{sx:{display:"flex",justifyContent:"flex-end"},children:[(0,i.jsx)(h.Z,{type:"submit",variant:"contained",color:"primary",size:"large",startIcon:(0,i.jsx)(z.Z,{icon:"mdi:content-save"}),sx:{mr:4},children:"Update"}),(0,i.jsx)(h.Z,{variant:"contained",color:"error",size:"large",startIcon:(0,i.jsx)(z.Z,{icon:"mdi:delete"}),onClick:()=>k(!1),children:"Cancel"})]})]})})]})]})},O=e=>{let{row:r,editVisa:s,deleteVisa:o}=e,[c,d]=(0,n.useState)(null),x=Boolean(c),u=e=>{d(e.currentTarget)},h=()=>{d(null)},m=()=>{s(r),h()},p=()=>{o(r._id),h()};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.Z,{size:"small",onClick:u,children:(0,i.jsx)(z.Z,{icon:"mdi:dots-vertical"})}),(0,i.jsxs)(l.Z,{keepMounted:!0,anchorEl:c,open:x,onClose:h,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{style:{minWidth:"8rem"}},children:[(0,i.jsxs)(t.Z,{onClick:m,sx:{"& svg":{mr:2}},children:[(0,i.jsx)(z.Z,{icon:"mdi:pencil-outline",fontSize:20}),"Edit"]}),(0,i.jsxs)(t.Z,{onClick:p,sx:{"& svg":{mr:2}},children:[(0,i.jsx)(z.Z,{icon:"mdi:delete-outline",fontSize:20}),"Delete"]})]})]})},M=()=>{let[e,r]=(0,n.useState)("0"),[s,l]=(0,n.useState)([]),[k,N]=(0,n.useState)([]),[E,M]=(0,n.useState)(!1),[F,X]=(0,n.useState)(10),[A,H]=(0,n.useState)(!1),[G,U]=(0,n.useState)(!1),[L,J]=(0,n.useState)(0),K={name:"",stay_duration:30,issue_duration:7,save_travel_cost:!0,need_visit_consulate:!0,deliver_to_door:!0,online_auto_tracking:!0,is_most_popular:!1},Y=V.Ry().shape({name:V.Z_().required("Name is required field."),stay_duration:V.Rx().required("Duration of stay is required field."),issue_duration:V.Rx().required("Issue duration is required field.")}),{reset:$,control:ee,handleSubmit:er,formState:{errors:es}}=(0,Q.cI)({defaultValues:K,mode:"onChange",resolver:(0,B.X)(Y)}),{reset:ei,control:en,handleSubmit:ea,formState:{errors:el}}=(0,Q.cI)({defaultValues:K,mode:"onChange",resolver:(0,B.X)(Y)});(0,n.useEffect)(()=>{let e=async()=>{let{data:e}=await w.Z.get("crms/categories");l(e)},r=async()=>{let{data:e}=await w.Z.get("crms/visa-types");N(e)};e(),r()},[E,F]);let et=(e,s)=>{r(s)},eo=e=>{J(e._id),ei({name:e.name,stay_duration:e.stay_duration,issue_duration:e.issue_duration,save_travel_cost:e.save_travel_cost,need_visit_consulate:e.need_visit_consulate,deliver_to_door:e.deliver_to_door,online_auto_tracking:e.online_auto_tracking,is_most_popular:!!e.is_most_popular}),U(!0)},ec=async e=>{let{data:r}=await w.Z.post("crms/visa-types",e);r.status?($(K),H(!1),M(!E),q.ZP.success(r.msg)):q.ZP.error(r.msg)},ed=async e=>{let{data:r}=await w.Z.put("crms/visa-types/".concat(L),e);r.status?(ei(K),U(!1),M(!E),q.ZP.success(r.msg)):q.ZP.error(r.msg)},ex=async e=>{let{data:r}=await w.Z.delete("crms/visa-types/".concat(e));r.status?(M(!E),q.ZP.success(r.msg)):q.ZP.error(r.msg)};return(0,i.jsxs)(c.ZP,{container:!0,spacing:6,children:[(0,i.jsx)(c.ZP,{item:!0,md:6,sm:12,children:(0,i.jsxs)(d.Z,{children:[(0,i.jsx)(x.Z,{title:(0,i.jsxs)(u.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,i.jsx)(o.Z,{variant:"h5",children:"Visa Types Management"}),(0,i.jsx)(u.Z,{sx:{pl:0,pr:0,pt:0,pb:0,display:"flex",flex:1,flexWrap:"wrap",alignItems:"center",justifyContent:"flex-end"},children:(0,i.jsx)(u.Z,{sx:{display:"flex",flexWrap:"wrap",alignItems:"center"},children:(0,i.jsxs)(h.Z,{sx:{mb:2},onClick:()=>H(!0),variant:"contained",children:[(0,i.jsx)(z.Z,{icon:"mdi:plus"})," Add Type"]})})})]})}),(0,i.jsx)(m.Z,{children:(0,i.jsx)(I._,{autoHeight:!0,getRowId:e=>e._id,rows:k,columns:[{flex:2,field:"name",headerName:"Visa Type",renderCell(e){let{row:r}=e;return(0,i.jsx)(o.Z,{noWrap:!0,children:r.name})}},{flex:1,field:"stay_duration",headerName:"Duration",renderCell(e){let{row:r}=e;return(0,i.jsxs)(o.Z,{noWrap:!0,children:[r.stay_duration," days"]})}},{flex:.5,field:"actions",headerName:"Actions",renderCell(e){let{row:r}=e;return(0,i.jsx)(O,{row:r,editVisa:eo,deleteVisa:ex})}}],pageSize:F,sx:{"& .MuiDataGrid-columnHeaders":{borderRadius:0}},onPageSizeChange:e=>X(e)})})]})}),(0,i.jsx)(c.ZP,{item:!0,md:6,sm:12,children:(0,i.jsxs)(d.Z,{children:[(0,i.jsx)(x.Z,{title:(0,i.jsx)(u.Z,{sx:{display:"flex",alignItems:"center"},children:(0,i.jsx)(o.Z,{variant:"h5",children:"Visa Prices Management"})})}),(0,i.jsx)(m.Z,{children:(0,i.jsxs)(W.ZP,{value:e,children:[(0,i.jsxs)(T.Z,{scrollButtons:!0,variant:"scrollable",onChange:et,children:[(0,i.jsx)(p.Z,{value:"0",label:"Global Prices"}),s.map((e,r)=>(0,i.jsx)(p.Z,{value:"".concat(r+1),label:e.name},r))]}),(0,i.jsx)(P.Z,{value:"0",children:(0,i.jsx)(D,{visaTypes:k})}),s.map((e,r)=>(0,i.jsx)(P.Z,{value:"".concat(r+1),children:(0,i.jsx)(R,{visaTypes:k,category:e})},r))]})})]})}),(0,i.jsxs)(j.Z,{fullWidth:!0,maxWidth:"sm",onClose:()=>H(!1),open:A,children:[(0,i.jsxs)(Z.Z,{children:["New Visa Type",(0,i.jsx)(a.Z,{onClick:()=>H(!1),sx:{position:"absolute",right:18,top:18,color:"#aaaaaa"},children:(0,i.jsx)(z.Z,{icon:"mdi:close"})})]}),(0,i.jsx)(y.Z,{sx:{p:6},children:(0,i.jsxs)("form",{onSubmit:er(ec),style:{paddingTop:8},children:[(0,i.jsxs)(v.Z,{fullWidth:!0,sx:{mb:6},children:[(0,i.jsx)(Q.Qr,{name:"name",control:ee,render(e){let{field:{value:r,onChange:s}}=e;return(0,i.jsx)(g.Z,{value:r,label:"Name",onChange:s,error:Boolean(es.name)})}}),es.name&&(0,i.jsx)(f.Z,{sx:{color:"error.main"},children:es.name.message})]}),(0,i.jsxs)(v.Z,{fullWidth:!0,sx:{mb:6},children:[(0,i.jsx)(_.Z,{error:Boolean(es.stay_duration),htmlFor:"duration",children:"Duration of stay"}),(0,i.jsx)(Q.Qr,{id:"stay_duration",name:"stay_duration",control:ee,render(e){let{field:{value:r,onChange:s}}=e;return(0,i.jsxs)(C.Z,{value:r,label:"Duration of stay",onChange:s,error:Boolean(es.stay_duration),children:[(0,i.jsx)(t.Z,{value:"30",children:"30 days"}),(0,i.jsx)(t.Z,{value:"45",children:"45 days"})]})}}),es.stay_duration&&(0,i.jsx)(f.Z,{sx:{color:"error.main"},children:es.stay_duration.message})]}),(0,i.jsxs)(v.Z,{fullWidth:!0,sx:{mb:2},children:[(0,i.jsx)(Q.Qr,{name:"issue_duration",control:ee,render(e){let{field:{value:r,onChange:s}}=e;return(0,i.jsx)(g.Z,{type:"number",value:r,label:"Issue duration (days)",onChange:s,error:Boolean(es.issue_duration)})}}),es.issue_duration&&(0,i.jsx)(f.Z,{sx:{color:"error.main"},children:es.issue_duration.message})]}),(0,i.jsx)(v.Z,{fullWidth:!0,children:(0,i.jsx)(Q.Qr,{name:"save_travel_cost",control:ee,render(e){let{field:{value:r,onChange:s}}=e;return(0,i.jsx)(b.Z,{label:"Save travel cost",control:(0,i.jsx)(S.Z,{checked:r,onChange:s})})}})}),(0,i.jsx)(v.Z,{fullWidth:!0,children:(0,i.jsx)(Q.Qr,{name:"need_visit_consulate",control:ee,render(e){let{field:{value:r,onChange:s}}=e;return(0,i.jsx)(b.Z,{label:"No need visiting the Consular Section",control:(0,i.jsx)(S.Z,{checked:r,onChange:s})})}})}),(0,i.jsx)(v.Z,{fullWidth:!0,children:(0,i.jsx)(Q.Qr,{name:"deliver_to_door",control:ee,render(e){let{field:{value:r,onChange:s}}=e;return(0,i.jsx)(b.Z,{label:"Visa delivered to your door",control:(0,i.jsx)(S.Z,{checked:r,onChange:s})})}})}),(0,i.jsx)(v.Z,{fullWidth:!0,children:(0,i.jsx)(Q.Qr,{name:"online_auto_tracking",control:ee,render(e){let{field:{value:r,onChange:s}}=e;return(0,i.jsx)(b.Z,{label:"Online auto tracking",control:(0,i.jsx)(S.Z,{checked:r,onChange:s})})}})}),(0,i.jsx)(v.Z,{fullWidth:!0,children:(0,i.jsx)(Q.Qr,{name:"is_most_popular",control:ee,render(e){let{field:{value:r,onChange:s}}=e;return(0,i.jsx)(b.Z,{label:"Most popular",control:(0,i.jsx)(S.Z,{checked:r,onChange:s})})}})}),(0,i.jsxs)(u.Z,{sx:{display:"flex",justifyContent:"flex-end"},children:[(0,i.jsx)(h.Z,{type:"submit",variant:"contained",color:"primary",size:"large",startIcon:(0,i.jsx)(z.Z,{icon:"mdi:content-save"}),sx:{mr:4},children:"Save"}),(0,i.jsx)(h.Z,{variant:"contained",color:"error",size:"large",startIcon:(0,i.jsx)(z.Z,{icon:"mdi:delete"}),onClick:()=>H(!1),children:"Cancel"})]})]})})]}),(0,i.jsxs)(j.Z,{fullWidth:!0,maxWidth:"sm",onClose:()=>U(!1),open:G,children:[(0,i.jsxs)(Z.Z,{children:["Edit Visa Type",(0,i.jsx)(a.Z,{onClick:()=>U(!1),sx:{position:"absolute",right:18,top:18,color:"#aaaaaa"},children:(0,i.jsx)(z.Z,{icon:"mdi:close"})})]}),(0,i.jsx)(y.Z,{sx:{p:6},children:(0,i.jsxs)("form",{onSubmit:ea(ed),style:{paddingTop:8},children:[(0,i.jsxs)(v.Z,{fullWidth:!0,sx:{mb:6},children:[(0,i.jsx)(Q.Qr,{name:"name",control:en,render(e){let{field:{value:r,onChange:s}}=e;return(0,i.jsx)(g.Z,{value:r,label:"Name",onChange:s,error:Boolean(el.name)})}}),el.name&&(0,i.jsx)(f.Z,{sx:{color:"error.main"},children:el.name.message})]}),(0,i.jsxs)(v.Z,{fullWidth:!0,sx:{mb:6},children:[(0,i.jsx)(_.Z,{error:Boolean(el.stay_duration),htmlFor:"duration",children:"Duration of stay"}),(0,i.jsx)(Q.Qr,{id:"stay_duration",name:"stay_duration",control:en,render(e){let{field:{value:r,onChange:s}}=e;return(0,i.jsxs)(C.Z,{value:r,label:"Duration of stay",onChange:s,error:Boolean(el.stay_duration),children:[(0,i.jsx)(t.Z,{value:"30",children:"30 days"}),(0,i.jsx)(t.Z,{value:"45",children:"45 days"})]})}}),el.stay_duration&&(0,i.jsx)(f.Z,{sx:{color:"error.main"},children:el.stay_duration.message})]}),(0,i.jsxs)(v.Z,{fullWidth:!0,sx:{mb:2},children:[(0,i.jsx)(Q.Qr,{name:"issue_duration",control:en,render(e){let{field:{value:r,onChange:s}}=e;return(0,i.jsx)(g.Z,{type:"number",value:r,label:"Issue duration (days)",onChange:s,error:Boolean(el.issue_duration)})}}),el.issue_duration&&(0,i.jsx)(f.Z,{sx:{color:"error.main"},children:el.issue_duration.message})]}),(0,i.jsx)(v.Z,{fullWidth:!0,children:(0,i.jsx)(Q.Qr,{name:"save_travel_cost",control:en,render(e){let{field:{value:r,onChange:s}}=e;return(0,i.jsx)(b.Z,{label:"Save travel cost",control:(0,i.jsx)(S.Z,{checked:r,onChange:s})})}})}),(0,i.jsx)(v.Z,{fullWidth:!0,children:(0,i.jsx)(Q.Qr,{name:"need_visit_consulate",control:en,render(e){let{field:{value:r,onChange:s}}=e;return(0,i.jsx)(b.Z,{label:"No need visiting the Consular Section",control:(0,i.jsx)(S.Z,{checked:r,onChange:s})})}})}),(0,i.jsx)(v.Z,{fullWidth:!0,children:(0,i.jsx)(Q.Qr,{name:"deliver_to_door",control:en,render(e){let{field:{value:r,onChange:s}}=e;return(0,i.jsx)(b.Z,{label:"Visa delivered to your door",control:(0,i.jsx)(S.Z,{checked:r,onChange:s})})}})}),(0,i.jsx)(v.Z,{fullWidth:!0,children:(0,i.jsx)(Q.Qr,{name:"online_auto_tracking",control:en,render(e){let{field:{value:r,onChange:s}}=e;return(0,i.jsx)(b.Z,{label:"Online auto tracking",control:(0,i.jsx)(S.Z,{checked:r,onChange:s})})}})}),(0,i.jsx)(v.Z,{fullWidth:!0,children:(0,i.jsx)(Q.Qr,{name:"is_most_popular",control:en,render(e){let{field:{value:r,onChange:s}}=e;return(0,i.jsx)(b.Z,{label:"Most popular",control:(0,i.jsx)(S.Z,{checked:r,onChange:s})})}})}),(0,i.jsxs)(u.Z,{sx:{display:"flex",justifyContent:"flex-end"},children:[(0,i.jsx)(h.Z,{type:"submit",variant:"contained",color:"primary",size:"large",startIcon:(0,i.jsx)(z.Z,{icon:"mdi:content-save"}),sx:{mr:4},children:"Update"}),(0,i.jsx)(h.Z,{variant:"contained",color:"error",size:"large",startIcon:(0,i.jsx)(z.Z,{icon:"mdi:delete"}),onClick:()=>U(!1),children:"Cancel"})]})]})})]})]})};M.getLayout=e=>(0,i.jsx)(k.Z,{children:e});var F=M}},function(e){e.O(0,[6284,8480,4583,8515,8259,7836,9072,9491,9317,7985,4297,4314,9774,2888,179],function(){return e(e.s=21317)}),_N_E=e.O()}]);